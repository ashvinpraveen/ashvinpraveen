---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import CardLayout from '../components/CardLayout.astro';
// Footer removed
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en" data-theme="dark">
	<head>
		<BaseHead title={title} description={description} />
		<style>
			main {
				width: 100%;
				max-width: 100%;
				margin: 0;
			}
			.hero-image {
				width: 100%;
			}
			.hero-image img {
				display: block;
				margin: 0 auto 0.75rem auto;
				border-radius: 12px;
				border: 1px solid var(--color-border-subtle);
			}
			.header {
				padding: 1rem 1.5rem 0.75rem;
				max-width: 72ch;
				margin: 0 auto;
				color: var(--typography-body);
			}
			.post-title {
				margin: 0;
				line-height: 1.15;
				color: var(--typography-heading-primary);
			}
			.post-content {
				padding: 1.25rem 1.5rem 2rem;
				max-width: 72ch;
				margin: 0 auto;
				color: var(--typography-body);
			}
			.date {
				margin-bottom: 0.5rem;
				color: var(--typography-muted);
			}
			.last-updated-on {
				font-style: italic;
				color: var(--typography-subtle);
			}
		</style>
	</head>

	<body>
		<CardLayout>
			<main>
				<article>
						<div class="header prose">
							<div class="date">
								<FormattedDate date={pubDate} />
								{updatedDate && (<span class="last-updated-on"> â€¢ Updated <FormattedDate date={updatedDate} /></span>)}
							</div>
							<h1 class="post-title">{title}</h1>
						</div>
						{heroImage && (
							<div class="hero-image">
								<Image width={1200} height={580} src={heroImage} alt="" />
							</div>
						)}
						<div class="post-content prose">
							<slot />
						</div>
					</div>
			</article>
		</main>
		</CardLayout>
	</body>
</html>
